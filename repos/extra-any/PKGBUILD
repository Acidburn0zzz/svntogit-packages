# $Id$
# Maintainer: Jan de Groot <jgc@archlinux.org>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>

pkgbase=thunderbird-i18n
pkgver=17.0.3
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}

md5sums=('190c2a2d0f6e37f34aad8e1d6a03e338'
         '5903f4f5f58872c4d0608fbb7c807535'
         '13c85cc3806b98eaa864413287e9801e'
         '87e87b687423e62f296cbefc78bfe6b7'
         '5ab26b0a9ec10203d5fbeb4e6d8c37fe'
         'b9aada85e32037355eaf72d6a333fdb6'
         'd62b10c899df633f01361c8fea86a2d5'
         '9b3ee7f3abc87787165678d4f90414eb'
         '3326fa522ecd85eb2726cd759396cf7b'
         '62fc373ca8e4c97008b9d570e767e3c1'
         'ca0eac94b397dce125867c68129d892c'
         '23c99a2476db4dba10e30bf91923a071'
         '455a5bd79bc3c39c699cf28648336757'
         'eb50edbab0549ffcbe0bbe4bd4034ad6'
         'b939558426b00bb71d22eea9cca7934b'
         'df6865ea5301f822e935de490c283f70'
         'c9d36ce960073d54000566eae29d1a64'
         'c616e7eaf40247f46962bfaed25f0467'
         'bd6f55ba2ba60def8cfef38361fd453a'
         '9f2057d1d5ec2e2b24fbf7896a070f66'
         '520ef14dac72b2ebf4865fd42fc84d3c'
         '855b8de7ae0a924fb1e14f746ee62d20'
         '53cc664506d559721a1fca0641f6c6a9'
         '5c7970773b74c02c27aa36158f9d3e9f'
         '3f0992dfe456ac5752811cef77715e71'
         '5f2566a8d6b620a3aa9aa1cf03342f6a'
         'a68fcee2081e2f48ffe901a4621b282f'
         'a5f4f72cabc4e4d4e85666f5b6a6c782'
         'fbab0783479643d8f3dd664eb2080169'
         'f50a7c6f661b4171bab2a1161722813e'
         '95f93d9147e665854cebb9268517d2c4'
         '2202b08bf6321eea60845c29d9901d9e'
         'f26fc62be83107e03fe6a1304307d6ce'
         'd152f01e8eff70128748b7eb5a4a165c'
         'b1dec10579653e2675107b9eabe9d511'
         '4fe020d43cde68db9225600f6f415d0f'
         'fffd7ed634342ea46dc09c360418ac98'
         'fe3e5a47746afb712a57f32598dbbaa4'
         'ba0f8f8f43302efda57a156088d6c0d0'
         '7d9a8131093c300c557bd0a73fdcc4b7'
         '5557ebdcd2583ba77ee994a199850292'
         '64ef30075e847f2167615c99af3a4d81'
         '3b7d480e1d92b63d45d56d8bf997166b'
         '9b691b1aa18b3c364cb445bf1672f7bc'
         '080576b0e1665da96610b7aa9ec8a0b3'
         'd1405f684573fcc9c452cf938bbe239f'
         'e98489bdc57c482dfc18b59a70c4e379'
         '3eb66537793360afd3b3a7afb07db129'
         '4f546164884e4381572bb1f3f6e7d1f6'
         'f247dbf3c9817de173d7be5471d10553'
         'a72957a7e5a82aa8fffff126e8516971'
         '6365259d4134b06d1d7af1bfe876c384'
         '98e4c7fe88d6d333884f8b1f41c5bb26'
         '758836dee42f0503769c58396170eed5'
         '36619bd5a5adbaac5f02fe0d5596e52a')
