# $Id$
# Maintainer: Jan de Groot <jgc@archlinux.org>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>

pkgbase=thunderbird-i18n
pkgver=15.0.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sq     "Albanian"'
  'sl     "Slovenian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
#noextract=(${source[@]##*/})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}

md5sums=('1204c8ee565e0440b8bfc287aeed47c2'
         '157b18d0905319f03ae6b6324b6a6296'
         '7d9f0d4463c38021e4b43f6e8cd4cea8'
         'e328e922833e77a101efd5ed85b2ca74'
         'b2db2755e3e7aa4e336a3d2d940b2d3d'
         '096aff1bd74e987ac0bbab6456f90a16'
         '0923559a3f870e873c3b96c88f7adb66'
         'c18ba1c70a7098d3eb509058d7df6ab4'
         '08086033510e1d4565c99214ae52d162'
         '1da6ea552c58f0e3a384f47beaafbe61'
         'e2dedb97f06848bfb57fe4870bb348b3'
         'd42f2f15ffc3900ff0f8b1d415d42289'
         'd1a87bc6141556c6cfeda1c5577a6033'
         '81e85573cf6495fffbdfe4f5ae634b2c'
         '3e4524287f6b48ade05ced7d6e1c89f7'
         '57e57b874f94918ff5874986b7baa7d8'
         'd37968cab165e97095cb8dcc7a617761'
         'ce18a22f00570e83033461eeb3af674e'
         '8bee27541bcd81e677d23ea987d633fc'
         'f2dab20962d84c31aa255d1a5dee9f94'
         '54993614857e4f5ac13367477701f6f3'
         '19607f38a999d1b2f57c4e3c30cf1ab4'
         '96e7a1328e4a7b59dafaccdaec92a1a9'
         '12e44ca37ae4aafe5808fb3f8f9605a2'
         '65e93aa3678f20bba83983a7155a9cc3'
         '9a0b21b65c34eab40819886723898f4a'
         '769d74bf9a3d44b4116c5b8133c95942'
         'eb887bcc7616447770472cd25a4ea42e'
         '431953bc4b889ce28487da4d3f88884a'
         '05715540e7d014bd334a2bc962ebb8ec'
         'fcf51a765a5257a57ca0d434cbc25236'
         '256db899931e58b6c00f6d218b21df63'
         '6f7f2b5fb8408c89fb17270d8c0c8d95'
         'a023ff346c896c67f2457c81a37143cd'
         'dc8069e6cd6fa272ccaff44945acf9e9'
         '60ce5b7a085278f969bf340c7dcd9283'
         'd37dc4e914130e34109fca23772559a1'
         '0e73e5ac2424ea49d46e1e86da960fd4'
         '6abcc0ee49dc85c192b9ccfd8b17a81d'
         '85bf0eee5b6d90d5f88d7f0cb52f7371'
         '4b586c235942ed62baaf5b758bbab593'
         'e4707084a3eec33b85a04e2bc2503745'
         '2d32ae74ae79a2bdad60ddbdc97d91d7'
         '7c41880568aae279af60439c4233e2e5'
         '3f483f27daa2d1bd45ff5f46bb37bd8d'
         '676b7e5ff3b12d68a5f76a482ffe8742'
         'd1ab3bd0200a6a69ea47e35986348721'
         '309dc5c13392d028009a42d85992ad13'
         'd7e82e3dc0751929c6eb88d67ee30ee0'
         '52ffc5bae28e58089c3c4a259bd695cf'
         '978c3336678b10bbf41dc10cc7e7142a'
         '50687e7d864013d31bee904e25ce840f'
         '1789e92e4421933965d97024d898933a'
         '9b6245c50afd809100a70b36e6e7819c'
         '7d30e3e4a42e09a443e82daa55006f00')
