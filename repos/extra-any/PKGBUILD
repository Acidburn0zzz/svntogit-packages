# $Id$
# Maintainer: Jan de Groot <jgc@archlinux.org>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>

pkgbase=thunderbird-i18n
pkgver=15.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sq     "Albanian"'
  'sl     "Slovenian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
#noextract=(${source[@]##*/})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}

md5sums=('1f7704152dc52ab9df0521f105debc52'
         '4ec8bdff87bc783ca9df9ea029be55d1'
         'd36f8cdb5b0c51a4967c3a55b1aed2f0'
         '56be8d3326970ca7b33ce0c1f1df62e4'
         '2c321669fefa5e19d43aa0c3f27423a1'
         '9855572b6a9a4a0ee46f1992be0b3bee'
         '6f5a520b0b0482ae1d42c266c310d62d'
         'c0b0d19ce0627e5c0c2047877b2d6ee2'
         'a57350487198f9b4b648eddaff76fda3'
         '4a47b37aae6a534cc796005f6513cc30'
         '24b4f208d587db8144d68a02ca94c40a'
         '882bb85571a480a2a913684a3b3477ac'
         'ff3b1990fdb974ceaa9cd73a5cae2bff'
         'c3ea63f1c111a2d9ef7b941b7cc2690e'
         'a8067f6953997bad5d6f04fa7e327d57'
         '1762ba0a164ea00fde258a428e82fdff'
         '9112b5c48aad90492cac91f43c1ed3c5'
         'd66794ceb567e43881b138bf5a62bb60'
         'd8adf57ef6e4d94b844eedb13349353c'
         '218bfb1cdc55de884cd05f13a4d9b9b6'
         '0a374b0909da3b4d11f9032328130e5a'
         '7219ba8799758a216d9c43293e04fe95'
         '16650aa1242931eb675a47221c05f3d2'
         '6e4afe24d48a66aaf8090525dfdadf40'
         '772eb7a9a8d85668db9052c7e0edb177'
         'c14bab6a672a8050d64cbc492b719a4d'
         '577f36271753a256a9289e39d64b1711'
         '2f50b97fc3de463b237742a92ca241f4'
         'a923efd0aa325b9fe4c557d84e77e642'
         '8b7e07035bb3f2958a7d902be1c5ad5a'
         '7a204a8e1093cffe6e18cb49b510ea77'
         '2edbc542b90c2679031d9c8c4b577b09'
         '116a7f9cc0abd1ad83ba6cd74111a2cd'
         '872e587328f0c63d19879e13cbb0c026'
         '38ea7c02e4a89c924a1badb8089d0479'
         '376d5714cd4e29daa22553e3f7654e37'
         '7a0f7d6391c199f194f4a7b3fc9818e9'
         'ee124cbe4a1177433426edea0055b2a1'
         '2f023845da82b1245a99f6feb0b486ad'
         '3a4e435786524b7de08ed265d384d21b'
         '2b4c5a7c00c5c683daa99075b5c9aea4'
         '806dff1ec6e1bcc78e6583867befaa0a'
         'c6cc1e5d135a8cdcf7a39b5dca74f714'
         '4e2005d70a32257bad604ad1af05ba18'
         '25dac2d61cc47ad935bdb72b114ca9fc'
         '5dd66142893f62a253d890a794c1e426'
         '0fda63cf79d47c35ae60c943d0645c48'
         'dfdd5c949d9a7e3e8db2f4b63b77ade8'
         'd9ee09ae6bf6d78c9ab3aef605884f2e'
         'f3ad92882154d9591912313934676957'
         '1615eea33d932c41f64fc541c5169206'
         '3c8f02de7372c964f5ec7e45a5d73deb'
         '257c457ee61443ac6ce7820b02e47248'
         '4fba468eecf9dd2c749ac03e4e319614'
         'c48ec8037715815f4726e72977aa9d5d')
