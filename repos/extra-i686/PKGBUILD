# $Id$
# Maintainer: Thomas Baechler <thomas@archlinux.org>
pkgname=thunderbird-i18n
pkgver=2.0.0.14
pkgrel=1
_languages=be,bg,ca,cs,da,de,el,en-GB,es-AR,es-ES,eu,fi,fr,ga-IE,hu,it,ja,ko,lt,mk,nb-NO,nn-NO,nl,pa-IN,pl,pt-BR,pt-PT,ru,sk,sl,sv-SE,tr,zh-CN,zh-TW
pkgdesc="Language packs for Thunderbird"
arch=(i686 x86_64)
url="http://www.mozilla.com/"
depends=("thunderbird=$pkgver")
eval conflicts=(mozilla-thunderbird-i18n mozilla-thunderbird-{${_languages}} thunderbird-{${_languages}})
makedepends=('unzip')
eval source=(ftp://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/${pkgver}/linux-i686/xpi/{${_languages}}.xpi)
noextract=($(for i in ${source[@]}; do basename $i; done))

build() {
  cd ${startdir}/src
  for lang in $(echo "${_languages}" | sed 's|,| |g'); do
    unzip -o ${lang}.xpi
    sed -i "s|jar:chrome/${lang}.jar|jar:${lang}.jar|" chrome.manifest || return 1
    install -D -m 644 chrome/${lang}.jar ${startdir}/pkg/usr/lib/thunderbird-${pkgver}/chrome/${lang}.jar || return 1
    install -D -m 644 chrome.manifest ${startdir}/pkg/usr/lib/thunderbird-${pkgver}/chrome/${lang}.manifest || return 1
  done
}
md5sums=('41d6524bd0332d379cc611f80b881ce8'
         '905f5f8d2c66f01e45f0749a2b3200b6'
         '6295db083b0a8c9cae9092974e0818a5'
         'dd1a5ea4d231716a84f141c97ed64250'
         'a4706cac43ea80719e70f8bcbf67b078'
         '778cceddb518a83fee186cc88ffac101'
         'e0b5d08e76c2805a2558dc8a9bcec38e'
         '08135275e32c31181add22eee8176fa6'
         'fe56b96e17d553df6e554b96070a2c3f'
         'bb12dbbd45536a671c5b8c95122db2e5'
         '0938bf890919f38ef37677b438991880'
         '7ea31300b7e809b3df5ff5c08b340a44'
         'acdba8b704f0ff54834179b624c46576'
         '418bee5d601fef52144750e35700e2d1'
         '4ae6fb11ce6920b9046f7738124127f5'
         '3ed85525eb0cc59fdd3623232299964e'
         '584d632305d18a0644c19fe5f54d941b'
         '2f6d215758d55fe469b4c378a868f997'
         '6d848ff47b77e7b8f9427dd7cd160c7d'
         '422efd77d635c9171c9da2f971371346'
         'e9261600ea0cf9b3f9ad0b636df1e3b2'
         '6e02f10c471e8731e5fefd16ed300a89'
         '56cbc3c1463c08c77d43548c99888d4d'
         '5505731d18a906fdf77c880baaf32094'
         '9e8f7ee13949ea2e50bda06646632950'
         'ecba9fed2950bd46c3869e6a9dfb8d0a'
         '499c584c3fcced568d51fbed84e5839c'
         'f8a840048f2e0a4203af5531502ed76c'
         'cc298296650340a934a5d1db19bb1789'
         'eb639a3a4c0227cdcdd33bbf7c48659f'
         '2929b6a4c8a459530dcb6df221931991'
         'c38c2980be531f5eac09a6ecfc710a7d'
         '45cb170591ea69d308e964898dd92596'
         'a4f605a6e209e6ea09292c4b95ea9949')
