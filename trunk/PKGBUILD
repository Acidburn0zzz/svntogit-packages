# $Id$
# Maintainer: Jan de Groot <jgc@archlinux.org>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>

pkgbase=thunderbird-i18n
pkgver=17.0.4
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}

md5sums=('206f1ef0917d6c072edef7e5d77a9ec6'
         'dfcdea2b4ae57a3fa98a60fd1d90beff'
         '25271fbc262c9379b7b9c04798d9a57e'
         'cef8ef756ae9bd611d8c92435ce3d550'
         'aee21b8e9835361d7fad9cabc26176ec'
         '9cc55cfc826cfebdb52d471d4683e2ad'
         'efb76f4fc5b66e6936a3a64ebb6a11b9'
         '365ca3b65ec2ca0f6aba405172f909fc'
         '02e296fa634c03dc1b8d71dd7c2e445f'
         'e300d530881628b012e4071c5b1ac1e7'
         '5bd79ebfb86e8939d480b49abd484370'
         '09acd6af201f415d169b8019c0bb3929'
         '9205fbc01cee7caf8578cd845596542a'
         '7fd2672aa378a5c6b3d4d33eb71dff9d'
         '8babeccaefc144d7798fb22446a72395'
         '834b93522fb7875bc6fc3551d90a9b75'
         'd690f9d0e0f3317ab500e711692c5684'
         'bfe0b4a94a02e0ca8da411b58c17a5a1'
         '4156b699bb0dbbf073893cbef96db478'
         '1f8527f158f5bcacfde1e9b259769c14'
         'c7fb6f52652ffeb7b7c09f27c73ee32b'
         '6b57787b83b27a80c175b197d9a0fd8f'
         '9a30b1017efa98e4c392a367341e7d5b'
         '6e5d20da97211e9f72cc537327783f4d'
         '0d0cd95f0e1765c1f56a39609533efa3'
         '34773b8acd0e23d99918969a3a86159e'
         'bc1b94e53e3f6d5e716ceb7d4979e278'
         'bf577e83fc52e94164426d7a9dcc10b0'
         '4328456c0a54334e020b643c37328eec'
         '7232b4d0faf2f10f7fd6c7e05ef84d7a'
         '11ada83816bcdea125dff74022acd715'
         '0d6100971791dbac333cb24f8fa81c7b'
         '685315fce2d77b64f58133d5d405200f'
         'e5f15fc603190c6bb0a0cdfe6bf5e863'
         'f2d4a099467f09b49f1bed06812d60d6'
         '88b0177d8342a6aae79c1cba74e6c041'
         'e19d3f90b9d41f9e7749875a1e2c037b'
         '8e956438b49d548431728758206a101e'
         '6597b2bbf2c9bf8af88d4b707400df24'
         '794a9831d1f3c43156ec3f85f155f1e2'
         '9b8e8f1fcc2bf891c1273b9470f95af5'
         '7b423d358869c35dde53015f800e0dbd'
         'a8258e8427d4961a509dc980f9a56986'
         'f7be2a19d5046c5ec537b3248d0107b0'
         '2d892a7f25a10d4607b76e2ce65743e5'
         '6f2391fdfc198177f65c407ac3d10ce2'
         '7e53185c09b5672f08573e3e96150ad1'
         'fa4528be1f856b9f612af643ff2d1675'
         '983b51b70b7e57a8bf3b956adc309f88'
         'efc16a35ab9cff05473ff3e5f2cbf7ee'
         'f9456837c567d422ac2e69fd72598089'
         '9dcbf6fc85bfc768d784cb3bd764c103'
         '302d409e53f598e830d8b180f108586e'
         '5e21d7621b87a639c41c5fc6245203df'
         '317e9a8bc1ca22a1f89d6898cca19500')
