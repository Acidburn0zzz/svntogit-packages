# $Id$
# Maintainer: Jan de Groot <jgc@archlinux.org>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>

pkgbase=thunderbird-i18n
pkgver=17.0.6
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}

md5sums=('f5874c152b64284b7287b98da4cc2752'
         'dd8b69ab89e4ab9f9856ee561969e719'
         '43a0d37fe238bf92cbf6d9951aec6c42'
         '8d83666028f97b0ca31272e2646b8f41'
         'fa447dfef59831757dfd6c49c0e1bf76'
         '8dc906fed5306d0cefb6e0ae486861e6'
         '894b0a7e990a2199c62d4465e575da45'
         '850309ad92efad5aeb204d4d067a0493'
         'fbbf8c5c8385f1a5fda309c049cbf2a6'
         'c06da3cbecd7815f9fdfae5d5f28de9d'
         '65a5354e8a4ec8f9296bd8c0fdacd51b'
         'b7a645e10bf7a915df2a7d6611e6fe10'
         'a555e28a542bd0d691dd224321e0ff31'
         '56b80faa0e929613dbc8ce307270c22a'
         '41eedc8523a908837405b8ae804cfbbd'
         '4bf792c1a0b6d6dade28ab6b945db43a'
         'f374a89c60259f383b9a067b59c96961'
         '77238f5936597e9f6e37606c9e359512'
         '96f8e3d273bfc736fd40959ca0b73f06'
         '378b4eaeae1b7877487859b600f5733a'
         'fe10debfac2e1b25de359c02837c3ae9'
         'c67eaa6e5a537c4787e934f291c3df4d'
         'f43ac719b63108a3f3804df55b311117'
         '1e404c0d3adfcd8656501651623849b4'
         '51191d8be9db0d1320b5b64af64109dc'
         'a5e11f696af698d0c4f7766d030b2399'
         'df559c92727276acea650a0ebb351538'
         '5bad484687f26f25b2fbd5060a6646d4'
         '1e1ea1913758cf020661fec27a02ddb6'
         '8479dc2b86f4a7b52dbf871423ef11de'
         '4b0673ff7a2048e0829704bf84d16031'
         'c764376508c3c99b12c81a76013927ad'
         '5deec9263bbc4f3661e834d35079c153'
         'f30ee5ce145db605e776d1c247cc709b'
         '0ef69ae55807a33a9b513d81d8ec10ea'
         'dc41ebd2b87a783daadba0b313ed8e72'
         '2c4977f14e6dc045495f2d80d4acc8f2'
         '0b8a90721676065a093ea68d3474af85'
         'aa73d1a59b0297ad8f9b70cd209433aa'
         'e18f772698ddc4b145c76a5d969632fa'
         '1cc64def4f80bfc36d222cb77b6eb14a'
         '8900d15934f025e12c80577f096d4baa'
         'bcac89973d249689300986ed5a381ccc'
         'ab52bbbd439b89c9eb916868a4be5553'
         '4a3af60c400ef857a05c0ca94ba8d687'
         '90993b32e0cd968a337d532b5da2c57f'
         'a78eacf474fe1b97440f5384f3158983'
         '60ce0e649a8b940b3f318c7897d0dca6'
         'bccae1e95cc6ad4e6cbde475c8218ca1'
         '2a482696c844316fe19471b921d1c9b9'
         '3445c2a242cb2edb00fa20205486a3c7'
         '3f7258e5ba083db60bbb3f023d483ecb'
         '26e5ea0cfee2172378eb3c8e98941718'
         '6a85cc01e1fd2dcc449c787729d8f477'
         '4d193991f318c02c192a2c431ddc3e07')
