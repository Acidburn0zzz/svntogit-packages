# $Id$
# Maintainer: Jan de Groot <jgc@archlinux.org>
# Contributor: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>

pkgbase=thunderbird-i18n
pkgver=17.0.8
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}

md5sums=('ad61f2a7632c8ce1251d5952181398df'
         '3fd84e4b803bca0fedb737440a040e45'
         '4586a2dabddfcc16855edf6b8d69962a'
         'c584f31ae8b2c24da15666fc4fa3563b'
         '702f3257cf019843d74fbaadb99e2886'
         '6551ad7767aa87ee42e6d31ff9590648'
         'd1b275d962f96166e2a459f58b1709d6'
         'ca7a944cd07ee0c0d04a454a2516d49d'
         '76d452fada4e133f6dc3b3584c6fac08'
         '3b4b2cee9016abd15da1bcd6286dbc6c'
         '028c90f0c31ab3a7b071a718d08258bb'
         '12355d30501f1ac7a10831763bc1f354'
         '23b28003c65f5df1be2e8008c97edc15'
         'afc8052118c343e867718ef8561e831e'
         '65db2679e3a8c1868739da2e27783484'
         '1334e12708bf352a2be09d5795c95213'
         'f73ac3d0baedb8f525676118f51426f9'
         '4c31cb388ccaff76c95d5b46f49c4ecc'
         '2bd1d5f69bee27da325f8298f0d1e134'
         '6bdd8f7a3beee272d7cdfc24882d254b'
         'e6d1dc109c9a934277aaab7e696d389b'
         '70408d96a8bbd4aceccf1c56d05f15ce'
         'd8fbf504de160554a9bc1e4fe13492ce'
         '094d2815ab1668f1ebf8fcb3a764a4ec'
         'e6b14831bdc3ce639b390175ac04113b'
         'cf7743c55272ba14d6804a1121f9ab6b'
         '44be8dbc2d025afa4730bfa025fa7a42'
         'c4e95ec094792b880a1ddb8b9aff48aa'
         'b91510b33bc07ae10f97c223f652517f'
         '2f6364f530d8f57d104cb4f4e7b28409'
         '5375575fd2e6721505a9fc06b0247c49'
         '18ee8f5eaa26ec1f60e81541d5ebc6ca'
         'ba23f860392aefa18ff50bcdc450af52'
         '36573ca497ecd8ab8df6b1155546e698'
         '239622a8ed51b43791d34f4c09b3f6ec'
         '850cc70db0785d88afe03a4d9964ccd3'
         'ed3293f4b84e4984d67f44977fccccd5'
         '9604a4e8c42e605c04e77d204bad5664'
         '9d5a4a6f6a6b905bb509502972682a04'
         'ad9c38941f4a8ce055406c1bb5e7ef35'
         '25e04c4c5a1c0c0eff21e94f75a51f5b'
         'a369031e02f05a10b68d8ef032cb4105'
         '4657f4f697459aa51a09915dbc3270bb'
         '09817688b547c5a20bc8422ce1f7eab1'
         'd194d43d1dbf60c94028a5a718ba7e36'
         '0ebbfcf410b53596fc8fb99df51ed030'
         'cfa588e76644846f31fbc5360cfa89a1'
         '06141e939e5c53251c7af6d23935024d'
         'd07936ae70c5baa32ac5f4ecdb691c8e'
         'e5c0f2ebac114fdc2a0db275ea385858'
         'dac675a37e160aafb0e052ae561fe189'
         '5e112c628766e03cdae62f64d42020ca'
         '85d89ffd10bba250f4ce8acd39b3d6f8'
         'f068603a927801bc0c5386e61bcc8b4e'
         '2e6f3b969a175bbe2f88b266482f4c2e')
